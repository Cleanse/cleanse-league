{{ form_open({ request: __SELF__~'::onCreatePlayer', files: true }) }}

<div class="form-group">
    <label for="name">Player Name</label>
    <input class="form-control" id="name" name="name" placeholder="Enter a name for the player."
           aria-describedby="playerNameHelp" required>
    <small id="playerNameHelp" class="form-text text-muted">Enter a name for the player.</small>
</div>

<div class="input-group image-preview mb-2">
    <input class="form-control image-preview-filename">
    <span class="input-group-btn">
        <button type="button" class="btn btn-primary image-preview-clear" style="display:none;">
            <i class="fa fa-remove"></i> Clear
        </button>
    </span>
    <span class="input-group-btn">
        <div class="btn btn-primary image-preview-input">
            <i class="fa fa-folder-open"></i>
            <span class="image-preview-input-title">Choose File</span>
            <input type="file" accept="image/png, image/jpeg, image/gif" name="avatar"/>
        </div>
    </span>
</div>

<button type="submit" data-attach-loading class="oc-loader btn btn-primary">Create Player</button>

{{ form_close() }}

<script>
    $(function() {
        $('.image-preview-clear').click(function(){
            $('.image-preview').attr("data-content","").popover('hide');
            $('.image-preview-filename').val("");
            $('.image-preview-clear').hide();
            $('.image-preview-input input:file').val("");
            $(".image-preview-input-title").text("Browse");
        });

        // Create the preview image
        $(".image-preview-input input:file").change(function (){
            var file = this.files[0];

            $(".image-preview-input-title").text("Change");
            $(".image-preview-clear").show();
            $(".image-preview-filename").val(file.name);
        });
    });
</script>